{% extends 'base.html' %} 
{% load static %}
{% load utility_tags %} 
{% load humanize %} 
{% include 'includes/search_bar.html' %}
{% block title %}{{ site_settings.meta_title|default:'Best Real Estate Deals' }}{% endblock %}

{% block content %}



    <section id="hero-slider" style="background-image: url({% if site_settings.search_bg %}{{ site_settings.search_bg.url }}{% endif %});">
        <div class="container">
            {% if sliders %}
                <div class="owl-carousel">
                    {% for slider in sliders %}
                        <div class="slider-item">
                            <h1>{{ slider.title }}</h1>
                            <p>{{ slider.subtitle }}</p>
                            <a href="{{ slider.button_link|default:'#' }}" class="btn-primary">{{ slider.button_text|default:'Explore Now' }}</a>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="slider-item">
                    <h1>Find Your Dream Home</h1>
                    <p>Search the best properties in major cities.</p>
                    <a href="{% url 'properties' %}" class="btn-primary">Start Searching</a>
                </div>
            {% endif %}
            
            {% include 'includes/search_bar.html' %} 
        </div>
    </section>

    <section id="featured-properties" class="py-5">
        <div class="container">
            <h2 class="text-center">Featured Listings</h2>
            <hr>
            
            <div class="row property-grid">
                {% if properties %}
                    {% for property in properties %}
                        <div class="col-md-3 mb-4">
                            <div class="card property-card">
                                <img src="{% if property.main_photo %}{{ property.main_photo.url }}{% else %}{% static 'img/placeholder.png' %}{% endif %}" class="card-img-top" alt="{{ property.title }}">
                                <div class="card-body">
                                    <h5 class="card-title"><a href="{% url 'property_detail' property.id %}">{{ property.title }}</a></h5>
                                    
                                    <p class="card-text price">
                                        ‚Çπ{{ property.price|in_unit }} 
                                        <small class="text-muted">| {{ property.area_sqft }} sq.ft.</small>
                                    </p>

                                    <ul class="list-inline details">
                                        <li class="list-inline-item">{{ property.bedrooms|default:'?' }} Beds</li>
                                        <li class="list-inline-item">{{ property.property_type.name }}</li>
                                    </ul>
                                    <p class="location text-muted">{{ property.locality.name }}, {{ property.city.name }}</p>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <p class="text-center w-100">No featured properties available right now.</p>
                {% endif %}
            </div>
            
            <div class="text-center">
                <a href="{% url 'properties' %}" class="btn btn-outline-primary">View All Properties</a>
            </div>
        </div>
    </section>

    <section id="testimonials" style="background-image: url({% if site_settings.testmonial_bg %}{{ site_settings.testmonial_bg.url }}{% endif %});" class="py-5 text-white">
        <div class="container text-center">
            <h2>What Our Clients Say</h2>
            {% if testimonials %}
                <div class="testimonial-slider owl-carousel mt-4">
                    {% for t in testimonials %}
                        <div class="testimonial-item p-4">
                            <p class="lead">"{{ t.message|truncatewords:40 }}"</p>
                            <p class="h6 font-weight-bold mt-3">{{ t.name }}</p>
                            <p class="small">{{ t.designation }}</p>
                            <p>{{ t.rating }} ‚≠ê</p>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    </section>


    <!-- üü¶ HERO SECTION -->
<section class="bg-dark text-white text-center py-5" style="background: url('{% static 'images/hero-bg.jpg' %}') center/cover no-repeat;">
  <div class="container py-5">
    <h1 class="display-4 fw-bold">Find Your Dream Home</h1>
    <p class="lead">Explore top residential and commercial projects in your city</p>
    <a href="{% url 'projects' %}" class="btn btn-primary btn-lg mt-3">Explore Projects</a>
  </div>
</section>

<!-- üîç SEARCH SECTION -->
<section class="py-4 bg-light">
  <div class="container">
    <form class="row g-2">
      <div class="col-md-4">
        <input type="text" class="form-control" placeholder="Search City">
      </div>
      <div class="col-md-4">
        <input type="text" class="form-control" placeholder="Search Locality">
      </div>
      <div class="col-md-3">
        <select class="form-select">
          <option value="">Property Type</option>
          <option>Residential</option>
          <option>Commercial</option>
        </select>
      </div>
      <div class="col-md-1">
        <button class="btn btn-primary w-100">üîç</button>
      </div>
    </form>
  </div>
</section>

<!-- üåü FEATURED PROJECTS -->
<section class="py-5">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="fw-bold">üèÜ Featured Projects</h2>
      <a href="{% url 'projects' %}" class="text-decoration-none">View All ‚Üí</a>
    </div>

    <div class="row g-4">
      {% for project in featured_projects %}
      <div class="col-md-4">
        <div class="card shadow-sm h-100">
          {% if project.image %}
            <img src="{{ project.image.url }}" class="card-img-top" alt="{{ project.project_name }}">
          {% else %}
            <img src="https://via.placeholder.com/400x250?text=No+Image" class="card-img-top" alt="No Image">
          {% endif %}
          <div class="card-body">
            <h5 class="card-title">{{ project.project_name }}</h5>
            <p class="card-text text-muted mb-1">{{ project.locality }} ‚Äî {{ project.city }}</p>
            <p class="fw-bold text-primary">‚Çπ{{ project.get_price_range }}</p>
            <a href="{{ project.get_absolute_url }}" class="btn btn-outline-primary btn-sm">View Details</a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- ‚ú® ABOUT -->
<section class="py-5 bg-light text-center">
  <div class="container">
    <h2 class="fw-bold mb-3">Why Choose Us</h2>
    <p class="text-muted">We bring 16+ years of real estate expertise, trusted by thousands of happy home buyers.</p>
  </div>
</section>

<!-- üìû CONTACT CTA -->
<section class="bg-primary text-white py-5 text-center">
  <div class="container">
    <h3>Looking for your perfect property?</h3>
    <p>Call us at <strong>+91 9898 03 4466</strong> or click below</p>
    <a href="/contact/" class="btn btn-light btn-lg">Contact Us</a>
  </div>
</section>

<!-- ü¶∂ FOOTER -->
<footer class="bg-dark text-white text-center py-3">
  <small>¬© 2025 Cloud Rohu Real Estate. All Rights Reserved.</small>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    {% endblock %}


