{% extends 'base.html' %} 
{% load utility_tags %}
{% block title %}{{ property.title }} - Details{% endblock %}

{% block content %}
    <h2>Interested in this property?</h2>
    
    <div class="inquiry-form" style="border: 2px solid #007bff; padding: 20px; border-radius: 8px;">
        <h3>Contact Agent</h3>
        
        <form action="{% url 'property_detail' property.id %}" method="POST">
            {% csrf_token %}

            <input type="hidden" name="property_id" value="{{ property.id }}">

            <label for="name">Name:</label>
            <input type="text" name="name" id="name" required 
                   value="{% if user.is_authenticated %}{{ user.first_name }} {{ user.last_name }}{% endif %}">

            <label for="email">Email:</label>
            <input type="email" name="email" id="email" required 
                   value="{% if user.is_authenticated %}{{ user.email }}{% endif %}">
            
            <label for="phone">Phone:</label>
            <input type="text" name="phone" id="phone">

            <label for="message">Message:</label>
            <textarea name="message" id="message" rows="4"></textarea>

            <button type="submit">Submit Inquiry</button>
        </form>
    </div>

{% endblock %}